{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Cloud Pipeline # \u9023\u756a\u753b\u50cf\u751f\u6210 # docker-lambda Minio server CVAT # opencv/CVAT","title":"Home"},{"location":"#cloud-pipeline","text":"","title":"Cloud Pipeline"},{"location":"#_1","text":"docker-lambda Minio server","title":"\u9023\u756a\u753b\u50cf\u751f\u6210"},{"location":"#cvat","text":"opencv/CVAT","title":"CVAT"},{"location":"cvat/","text":"Setup # $ sudo apt install python3-pip $ sudo python3 -m pip install docker-compose installation # $ cd ~/docker/ $ git clone https://github.com/opencv/cvat $ cd cvat/ $ docker-compose build $ docker-compose up -d $ docker exec -it cvat bash -ic 'python3 ~/manage.py createsuperuser' $ docker ps -a $ docker-compose stop Auto anotation # Use Tensorflow Object Detection Build # $ docker-compose -f docker-compose.yml -f components/tf_annotation/docker-compose.tf_annotation.yml build run # $ docker-compose -f docker-compose.yml -f components/tf_annotation/docker-compose.tf_annotation.yml up -d","title":"CVAT"},{"location":"cvat/#setup","text":"$ sudo apt install python3-pip $ sudo python3 -m pip install docker-compose","title":"Setup"},{"location":"cvat/#installation","text":"$ cd ~/docker/ $ git clone https://github.com/opencv/cvat $ cd cvat/ $ docker-compose build $ docker-compose up -d $ docker exec -it cvat bash -ic 'python3 ~/manage.py createsuperuser' $ docker ps -a $ docker-compose stop","title":"installation"},{"location":"cvat/#auto-anotation","text":"Use Tensorflow Object Detection","title":"Auto anotation"},{"location":"cvat/#build","text":"$ docker-compose -f docker-compose.yml -f components/tf_annotation/docker-compose.tf_annotation.yml build","title":"Build"},{"location":"cvat/#run","text":"$ docker-compose -f docker-compose.yml -f components/tf_annotation/docker-compose.tf_annotation.yml up -d","title":"run"},{"location":"minio/","text":"Minio # \u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 Minio webhook with docker-lambda # Webhook\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u306a\u308bdocker-lambda\u3092\u7acb\u3061\u4e0a\u3052\u308b $ docker network create minio-lambda-net $ docker run --rm \\ --name d-lambda \\ -p 9001 :9001 \\ --net = minio-lambda-net \\ -e AWS_ACCESS_KEY_ID = minioadmin \\ -e AWS_SECRET_ACCESS_KEY = minioadmin \\ -e DOCKER_LAMBDA_STAY_OPEN = 1 \\ -v \" $PWD \" :/var/task \\ lambci/lambda:nodejs10.x \\ index.handler \u6b21\u306bMinio server\u3092\u7acb\u3061\u4e0a\u3052\u308b\u3002 $ docker-compose up \u4ee5\u4e0b\u306e\u624b\u9806\u3067\u30b5\u30fc\u30d0\u30fc\u306e\u8a2d\u5b9a\u3092\u884c\u3046\u3002\uff08http://http://172.17.0.2:9000 \u306e\u90e8\u5206\u306fdocker-compose up\u3057\u305f\u3068\u304d\u306e\u30ed\u30b0\u3092\u307f\u3066\u9069\u5b9c\u5909\u66f4\uff09 $ docker run --rm --name mc --net = minio-lambda-net -it --entrypoint = /bin/sh minio/mc # mc config host add myminio http://172.17.0.2:9000 minioadmin minioadmin # mc mb myminio/test # mc admin config set myminio notify_webhook:1 queue_limit=\"0\" endpoint=\"http://d-lambda:9001/2015-03-31/functions/myfunction/invocations\" queue_dir=\"\" # mc admin service restart myminio # mc event add myminio/test arn:minio:sqs::1:webhook --event put --suffix .mp4 \u30d6\u30e9\u30a6\u30b6\u30fc\u3092\u958b\u304d\u3001test\u3068\u3044\u3046\u540d\u524d\u306e\u30d0\u30b1\u30c3\u30c8\u306bmp4\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u3068\u9023\u756a\u753b\u50cf\u304c\u751f\u6210\u3055\u308c\u308b\u3002","title":"\u9023\u756a\u753b\u50cf\u751f\u6210"},{"location":"minio/#minio","text":"\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8","title":"Minio"},{"location":"minio/#minio-webhook-with-docker-lambda","text":"Webhook\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u306a\u308bdocker-lambda\u3092\u7acb\u3061\u4e0a\u3052\u308b $ docker network create minio-lambda-net $ docker run --rm \\ --name d-lambda \\ -p 9001 :9001 \\ --net = minio-lambda-net \\ -e AWS_ACCESS_KEY_ID = minioadmin \\ -e AWS_SECRET_ACCESS_KEY = minioadmin \\ -e DOCKER_LAMBDA_STAY_OPEN = 1 \\ -v \" $PWD \" :/var/task \\ lambci/lambda:nodejs10.x \\ index.handler \u6b21\u306bMinio server\u3092\u7acb\u3061\u4e0a\u3052\u308b\u3002 $ docker-compose up \u4ee5\u4e0b\u306e\u624b\u9806\u3067\u30b5\u30fc\u30d0\u30fc\u306e\u8a2d\u5b9a\u3092\u884c\u3046\u3002\uff08http://http://172.17.0.2:9000 \u306e\u90e8\u5206\u306fdocker-compose up\u3057\u305f\u3068\u304d\u306e\u30ed\u30b0\u3092\u307f\u3066\u9069\u5b9c\u5909\u66f4\uff09 $ docker run --rm --name mc --net = minio-lambda-net -it --entrypoint = /bin/sh minio/mc # mc config host add myminio http://172.17.0.2:9000 minioadmin minioadmin # mc mb myminio/test # mc admin config set myminio notify_webhook:1 queue_limit=\"0\" endpoint=\"http://d-lambda:9001/2015-03-31/functions/myfunction/invocations\" queue_dir=\"\" # mc admin service restart myminio # mc event add myminio/test arn:minio:sqs::1:webhook --event put --suffix .mp4 \u30d6\u30e9\u30a6\u30b6\u30fc\u3092\u958b\u304d\u3001test\u3068\u3044\u3046\u540d\u524d\u306e\u30d0\u30b1\u30c3\u30c8\u306bmp4\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u3068\u9023\u756a\u753b\u50cf\u304c\u751f\u6210\u3055\u308c\u308b\u3002","title":"Minio webhook with docker-lambda"}]}